* [57\. 什么是反射？](#57-%E4%BB%80%E4%B9%88%E6%98%AF%E5%8F%8D%E5%B0%84)
* [58\. 什么是java序列化？什么情况下需要序列化？](#58-%E4%BB%80%E4%B9%88%E6%98%AFjava%E5%BA%8F%E5%88%97%E5%8C%96%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E9%9C%80%E8%A6%81%E5%BA%8F%E5%88%97%E5%8C%96)
* [59\. 动态代理是什么？有哪些应用？](#59-%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88%E6%9C%89%E5%93%AA%E4%BA%9B%E5%BA%94%E7%94%A8)
* [60\. 怎么实现动态代理？](#60-%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86)

## 57. 什么是反射？
  
反射主要是指程序可以访问、检测和修改它本身状态或行为的一种能力
  
Java反射机制是在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象，都能够调用它的任意方法和属性；这种动态获取信息以及动态调用对象方法的功能称为java语言的反射机制。

Java反射机制主要提供了以下功能：
* **在运行时判断任意一个对象所属的类；**
* **在运行时构造任意一个类的对象；**
* **在运行时判断任意一个类所具有的成员变量和方法；**
* **在运行时调用任意一个对象的方法。**

## 58. 什么是java序列化？什么情况下需要序列化？

序列化就是一种用来处理对象流的机制，（所谓对象流也就是将对象的内容进行流化）

可以对流化后的对象进行读写操作，也可将流化后的对象传输于网络之间。

* **序列化的实现：**
* **将需要被序列化的类实现Serializable接口，implements Serializable只是为了标注该对象是可被序列化的。**
* **然后使用一个输出流（如：FileOutputStream）来构造一个ObjectOutputStream（对象流）对象；接着，使用ObjectOutputStream对象writeObject(Object obj)方法就可以将参数为obj的对象写出（即保存其状态），要恢复的话则用输入流。**

详细解释：
* **当两个进程在进行远程通信时，彼此可以发送各种类型的数据。无论是何种类型的数据，都会以二进制序列的形式在网络上传送。发送方需要把这个Java对象转换为字节序列，才能在网络上传送；接收方则需要把字节序列再恢复为Java对象。**
* **只能将支持 java.io.Serializable 接口的对象写入流中。每个 serializable 对象的类都被编码，编码内容包括类名和类签名、对象的字段值和数组值，以及从初始对象中引用的其他所有对象的闭包。**

1.概念
* **序列化：把Java对象转换为字节序列的过程。**
* **反序列化：把字节序列恢复为Java对象的过程。**

2.用途：
* **1. 把对象的字节序列永久地保存到一个文件中或者数据库中；**
* **2. 用套接字在网络上传送对象的字节序列。**
* **3. 通过RMI传输对象**

## 59. 动态代理是什么？有哪些应用？

动态代理：

当想要给实现了某个接口的类中的方法，加一些额外的处理。比如说加日志，加事务等。

可以给这个类创建一个代理，顾名思义就是创建一个新的类，这个类不仅包含原来类方法的功能，而且还在原来的基础上添加了额外处理的新类。

这个代理类并不是定义好的，是动态生成的。具有解耦意义，灵活，扩展性强。

动态代理的应用：

* **Spring的AOP**
* **加事务**
* **加权限**
* **加日志**

## 60. 怎么实现动态代理？

首先必须定义一个接口，还要有一个InvocationHandler（将实现接口的类的对象传递给它）处理类。

再有一个Java工具类Proxy（习惯性地将其称为代理类，因为调用它的newProxyInstance()可以产生代理对象，其实它只是一个产生代理对象的工具类）。

利用InvocationHandler处理类的invoke方法，拼接代理类源码，将其编译生成代理类的二进制码，利用加载器加载，并将其实例化产生代理对象，最后返回。
